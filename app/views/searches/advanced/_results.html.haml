.flex-grow-1.p-4.bg-white.overflow-auto{ style: "height: calc(100vh - 70px);" }
  
  .input-group.input-group-lg.mb-4
    %span.input-group-text.bg-white.border-end-0
      %i.bi.bi-search.text-muted
    = text_field_tag :q_dummy, params[:q], class: 'form-control border-start-0 shadow-none', placeholder: 'Search communities by name...', form: 'filter-form', name: 'q'

  .d-flex.justify-content-between.align-items-center.mb-3
    %span.text-muted.fs-5
      - has_filters = params.values.any? { |v| v.is_a?(Array) } || params[:q].present?
      = has_filters ? 'Search Results' : 'All Communities'
      %small.ms-2.text-secondary= "#{pluralize(@pagy.count, 'Community')} found"

  - if @pagy.count > 0
    .vstack.gap-3
      - @communities.each do |community|
        = render 'searches/advanced/community_card', community: community

    .mt-5.d-flex.justify-content-center
      = raw(pagy_bootstrap_nav(@pagy))
  - else
    .text-center.mt-5.text-muted
      %p No communities found.