- letters = ('A'..'Z').to_a

.text-center.mb-4.mt-4
  = link_to 'All', communities_path(params.permit!.to_h.except(:letter)),
    class: "btn btn-sm #{'btn-secondary' unless letters.include?(params[:letter])} btn-outline-secondary"

  - letters.each do |ch|
    - active = (params[:letter] == ch)
    = link_to ch, communities_path(params.permit!.to_h.merge(letter: ch)),
      class: "btn btn-sm #{active ? 'btn-secondary' : 'btn-outline-secondary'}"

/ Plain 3-column list, no grouping headers
.container-lg.py-3
  .row.row-cols-3.row-cols-md-4.row-cols-lg-6.justify-content-center
    - @communities.each do |c|
      .col.g-0
        = link_to c.name, community_path(c), class: "text-decoration-none d-block text-truncate"
        %hr
/ Empty state
- if @communities.blank?
  %p.text-muted.text-center.mt-4 No communities found.
