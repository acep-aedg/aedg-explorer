- years          = MonthlyGeneration.available_years_for(@community)
- selected_year  = params[:year].presence&.to_i || years.first

/ Wrapper for Stimulus controller
#monthly_generation-chart-wrapper{ data: { controller: "summary-frame" } }
  - if years.size > 1
    .d-flex.align-items-center.gap-2.mb-2
      %label.form-label.me-2.mb-0{ for: "monthly_generation-year" } Year:
      %select#monthly_generation-year.form-select.form-select-sm.w-auto{
        data: { action: "change->summary-frame#changeYear" }
      }
        - years.each do |y|
          %option{ value: y, selected: y == selected_year }= y

  / Summary
  %turbo-frame#monthly_generation_summary{ data: { summary_frame_target: 'frame' }, src: monthly_generation_community_summary_path(@community, year: selected_year)}
    Loading summary ...