- communities = @grid.communities.order(:name)
- return if communities.blank?
- cols = communities.in_groups(4, false)
- count = communities.size
- yr = @grid.inactive_year
.container.mb-3.my-5.mx-3.mx-md-5.mt-3
  .row.g-3
    %p
      - if @grid.active?
        The
        %strong= @grid.name
        = " currently serves #{pluralize(count, 'community')}:"
      - else
        The
        %strong= @grid.name
        = " previously served #{pluralize(count, 'community')}#{yr ? " (inactive since #{yr})" : ''}."
        %br
        %br
        = "Click a community to see the grid itâ€™s currently connected to:"
  .row.g-3
    - cols.each do |group|
      .col-12.col-md-3
        %ul.list-group.list-group-flush.small
          - group.each do |c|
            %li.list-group-item.py-2
              = link_to c.name, community_path(c), class: "text-decoration-none stretched-link"